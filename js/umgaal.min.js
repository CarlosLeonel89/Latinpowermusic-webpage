var umgAAL=window.umgAAL||{};window.AALEnabled=!0,umgAAL.standardized={CATEGORIES:{ENGAGEMENT:"engagement",ACQUISITION:"acquisition",REVENUE:"revenue",FORMS:"forms",MEDIA:"media",PHOTO_GALLERY:"photo gallery",OUTBOUND_LINK:"outbound link",VIDEO:"video",AUDIO:"audio"},MEDIA_TYPES:{VIDEOS:"videos",PHOTOS:"photos",ARTICLES:"articles",AUDIO:"audio",UNKNOWN:"unknown"},PAGE_TYPES:{HOME:"home",VIDEOS:"videos",PHOTOS:"photos",SHOWS:"shows",NEWS:"news",MUSIC:"music",BIO:"bio",SOCIAL:"social",COMMUNITY:"community",PROMOTIONAL:"promotional",CONTEST:"contest",GATED_CONTENT:"gated-content",USER_GENERATED_CONTENT:"ugc",UNKNOWN:"unknown"},PLATFORMS:{DRUPAL:"Drupal",WORDPRESS:"WordPress",COPE:"Cope"},FORM_TYPES:{REGISTRATION:"registration",LOGIN:"login",COMMUNICATIONS:"communications",ORDER_CONFIRMATION:"orderConfirmation"},SOURCES:{PLATFORM_REGISTRATION:"[Platform] registration",PLATFORM_LOGIN:"[Platform] login",PLATFORM_COMMUNICATIONS:"[Platform] communications",SFMC_STANDALONE:"sfmc standalone",SFMC_MODAL:"sfmc modal",FORMBUILDER_STANDALONE:"formbuilder standalone",FORMBUILDER_MODAL:"formbuilder modal",ORDER_CONFIRMATION:"orderConfirmation"},SOCIAL_PLATFORMS:{FACEBOOK:"facebook",TWITTER:"twitter",YOUTUBE:"youtube",SPOTIFY:"spotify",SOUNDCLOUD:"soundcloud",TUMBLR:"tumblr",INSTAGRAM:"instagram",PINTEREST:"pinterest",SITE:"site"}},umgAAL.actions={ACCOUNT_LOGIN_MODAL_SHOWN:{action:"login modal shown",category:umgAAL.standardized.CATEGORIES.ACQUISITION},ACCOUNT_REGISTRATION_MODAL_SHOWN:{action:"registration modal shown",category:umgAAL.standardized.CATEGORIES.ACQUISITION},REGISTER_SUCCESS:{action:"registration",category:umgAAL.standardized.CATEGORIES.ACQUISITION},ACCOUNT_CONNECT:{action:"connect",category:umgAAL.standardized.CATEGORIES.ACQUISITION},LOGIN_SUCCESS:{action:"login",category:umgAAL.standardized.CATEGORIES.ACQUISITION},FORM_ERROR:{action:"errors",category:umgAAL.standardized.CATEGORIES.FORMS},COMMUNICATION_OPTIN:{action:"optin",category:umgAAL.standardized.CATEGORIES.ACQUISITION},CONTENT_UNLOCKING:{action:"content unlock",category:umgAAL.standardized.CATEGORIES.ACQUISITION},OUTBOUND_LINK:{action:"link click",category:umgAAL.standardized.CATEGORIES.OUTBOUND_LINK},FANPAGE_LINK:{action:"fan page click",category:umgAAL.standardized.CATEGORIES.OUTBOUND_LINK},MERCHSTORE_LINK:{action:"d2c outbound click",category:umgAAL.standardized.CATEGORIES.REVENUE},RECORDED_CONTENTSTORE_LINK:{action:"buy outbound click",category:umgAAL.standardized.CATEGORIES.REVENUE},TOUR_BUY_LINK:{action:"ticketing outbound click",category:umgAAL.standardized.CATEGORIES.REVENUE},MEDIA:{action_play:"play",action_pause:"pause",action_stop:"stop",action_skip:"skip",action_percent_completed:"percent_completed"},PHOTO_GALLERY:{action:"photo gallery view",category:umgAAL.standardized.CATEGORIES.PHOTO_GALLERY},PHOTO_GALLERY_LOAD_MORE:{action:"photo gallery load more",category:umgAAL.standardized.CATEGORIES.PHOTO_GALLERY},FAVORITE:{action:"favorite",category:umgAAL.standardized.CATEGORIES.ENGAGEMENT},SHARE:{action:"share",category:umgAAL.standardized.CATEGORIES.ENGAGEMENT},COMMENT:{action:"comment",category:umgAAL.standardized.CATEGORIES.ENGAGEMENT},FLAG:{action:"flag",category:umgAAL.standardized.CATEGORIES.ENGAGEMENT},UGC_UPLOADS:{action:"post media",category:umgAAL.standardized.CATEGORIES.ENGAGEMENT}},umgAAL.user={userID:"",loginPlatform:"",loginPlatformUserID:"",loginProvider:"",email:"",birthDate:"",zip:"",state:"",country:"",loginStatus:"no",firstTouchRegistration:""},umgAAL.page={pageType:umgAAL.standardized.PAGE_TYPES.UNKNOWN,url:"",pageTitle:"",site:{artist:"",label:"",sublabel:"",format:"",region:""},userObject:umgAAL.user,crmID:"",MessageID:""},umgAAL.platform="",umgAAL.providers={ga_traditional:function(e,t,a){if("undefined"!=typeof _gaq&&"undefined"==typeof google_tag_manager)return _gaq.push(["_trackEvent",e,t,a]),umgAAL.helpers.log("debug","Google Analytics Traditional event fired, passing data..."),umgAAL.helpers.log("debug",{category:e,action:t,opt_label:a}),!0},ga_universal_analytics:function(e,t,a){if("undefined"!=typeof ga&&"undefined"==typeof google_tag_manager)return ga("send","event",e,t,a),umgAAL.helpers.log("debug","Google Universal Analytics event fired, passing data..."),umgAAL.helpers.log("debug",{eventCategory:e,eventAction:t,eventLabel:a}),!0},gtm:function(e,t,a,r){if("undefined"!=typeof google_tag_manager)return r=r||{},r["evt-cat"]=e,r["evt-act"]=t,r["evt-lab"]=a,r.event="ga-event",dataLayer.push(r),umgAAL.helpers.log("debug","Google Tag Manager dataLayer push fired, passing data..."),umgAAL.helpers.log("debug",r),!0}},umgAAL.helpers={debug_enabled:!1,warnings_enabled:!0,send_event:function(e,t,a,r){t=umgAAL.helpers.decode_html(t),a=umgAAL.helpers.decode_html(a);var n=!1;for(var i in umgAAL.providers)umgAAL.providers.hasOwnProperty(i)&&"function"==typeof umgAAL.providers[i]&&umgAAL.providers[i](e,t,a,r)&&(n=!0);if(!n)return umgAAL.helpers.log("error","send_event - no supported trackers found on page"),!1},log:function(e,t){switch(e){case"error":console.log("umgAAL Error:::",t);break;case"warning":umgAAL.helpers.warnings_enabled&&console.log("umgAAL Warning:::",t);break;case"debug":umgAAL.helpers.debug_enabled&&console.log("umgAAL Debug:::",t)}},decode_html:function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value},validate_standardized_string:function(e,t,a){for(var r in t)if(t[r]==e)return!0;return umgAAL.helpers.log("warning",a),!1},is_valid_media_action:function(e){for(var t in umgAAL.actions.MEDIA)if(umgAAL.actions.MEDIA[t]==e)return!0;return!1},is_valid_media_type:function(e){for(var t in umgAAL.standardized.MEDIA_TYPES)if(umgAAL.standardized.MEDIA_TYPES[t]==e)return!0;return!1},validate_string:function(e,t,a){return e=e||"","string"!=typeof e&&umgAAL.helpers.log("warning","Non String "+t+" argument supplied to "+a+" argument"),e},validate_array:function(e,t,a){e instanceof Array||umgAAL.helpers.log("warning","Non Array "+t+" argument supplied to "+a+" argument")},is_valid_date:function(e){var t=/^\d{4}-\d{2}-\d{2}$/;return null!=e.match(t)},is_percentage:function(e){return e=parseInt(e),e>=0&&e<=100}},umgAAL.track={account_login_modal_shown:function(e){e=umgAAL.helpers.validate_string(e,"call_to_action","account_login_modal_shown");var t={cta:e};return umgAAL.helpers.send_event(umgAAL.actions.ACCOUNT_LOGIN_MODAL_SHOWN.category,umgAAL.actions.ACCOUNT_LOGIN_MODAL_SHOWN.action,e,t)},account_registration_modal_shown:function(e){e=umgAAL.helpers.validate_string(e,"call_to_action","account_registration_modal_shown");var t={cta:e};return umgAAL.helpers.send_event(umgAAL.actions.ACCOUNT_REGISTRATION_MODAL_SHOWN.category,umgAAL.actions.ACCOUNT_REGISTRATION_MODAL_SHOWN.action,e,t)},register_success:function(e){e=umgAAL.helpers.validate_string(e,"source","register_success"),umgAAL.helpers.validate_standardized_string(e,umgAAL.standardized.SOURCES,"non-standard source argument supplied to the register_success method"),umgAAL.helpers.validate_standardized_string(umgAAL.user.loginProvider,umgAAL.standardized.SOCIAL_PLATFORMS,"non-standard umgAAL.user.loginProvider set"),umgAAL.helpers.validate_standardized_string(umgAAL.platform,umgAAL.standardized.PLATFORMS,"non-standard umgAAL.platform set"),e=e.replace("[Platform]",umgAAL.platform);var t={source:e,userObject:umgAAL.user};return umgAAL.helpers.send_event(umgAAL.actions.REGISTER_SUCCESS.category,umgAAL.actions.REGISTER_SUCCESS.action,umgAAL.user.loginProvider,t)},account_social_connect_success:function(e,t){e=umgAAL.helpers.validate_string(e,"source","account_social_connect_success"),umgAAL.helpers.validate_standardized_string(e,umgAAL.standardized.SOURCES,"non-standard source argument supplied to the account_social_connect_success method"),umgAAL.helpers.validate_standardized_string(t,umgAAL.standardized.SOCIAL_PLATFORMS,"non-standard social_provider argument supplied to the account_social_connect_success method"),umgAAL.user.loginProvider=""!=t?t:umgAAL.user.loginProvider,umgAAL.helpers.validate_standardized_string(umgAAL.user.loginProvider,umgAAL.standardized.SOCIAL_PLATFORMS,"non-standard umgAAL.user.loginProvider set"),umgAAL.helpers.validate_standardized_string(umgAAL.platform,umgAAL.standardized.PLATFORMS,"non-standard umgAAL.platform set"),e=e.replace("[Platform]",umgAAL.platform);var a={source:e,userObject:umgAAL.user};return umgAAL.helpers.send_event(umgAAL.actions.ACCOUNT_CONNECT.category,umgAAL.actions.ACCOUNT_CONNECT.action,umgAAL.user.loginProvider,a)},login_success:function(e){e=umgAAL.helpers.validate_string(e,"source","login_success"),umgAAL.helpers.validate_standardized_string(e,umgAAL.standardized.SOURCES,"non-standard source argument supplied to the login_success method"),umgAAL.helpers.validate_standardized_string(umgAAL.user.loginProvider,umgAAL.standardized.SOCIAL_PLATFORMS,"non-standard umgAAL.user.loginProvider set"),umgAAL.helpers.validate_standardized_string(umgAAL.platform,umgAAL.standardized.PLATFORMS,"non-standard umgAAL.platform set"),e=e.replace("[Platform]",umgAAL.platform);var t={source:e,userObject:umgAAL.user};return umgAAL.helpers.send_event(umgAAL.actions.LOGIN_SUCCESS.category,umgAAL.actions.LOGIN_SUCCESS.action,umgAAL.user.loginProvider,t)},form_errors:function(e,t){e=umgAAL.helpers.validate_string(e,"form_type","form_errors"),umgAAL.helpers.validate_standardized_string(e,umgAAL.standardized.FORM_TYPES,"non-standard form_type argument supplied to the form_errors method"),umgAAL.helpers.validate_array(t,"fieldErrors","form_errors");var a={formType:e,fieldErrors:t};return umgAAL.helpers.send_event(umgAAL.actions.FORM_ERROR.category,umgAAL.actions.FORM_ERROR.action,e,a)},comm_optin_success:function(e,t,a,r){t=umgAAL.helpers.validate_string(t,"subscriber_list_id","comm_optin_success"),a=umgAAL.helpers.validate_string(a,"subscriber_list_name","comm_optin_success"),r=umgAAL.helpers.validate_string(r,"business_unit","comm_optin_success"),umgAAL.helpers.validate_standardized_string(e,umgAAL.standardized.SOURCES,"non-standard source argument supplied to the comm_optin_success method");var n={source:e,crmID:umgAAL.page.crmID,subscriberListID:t,subscriberListName:a,businessUnit:r};return umgAAL.helpers.send_event(umgAAL.actions.COMMUNICATION_OPTIN.category,umgAAL.actions.COMMUNICATION_OPTIN.action,"",n)},unlock_content_success:function(e,t,a,r){e=umgAAL.helpers.validate_string(e,"media_type","unlock_content_success"),t=umgAAL.helpers.validate_string(t,"media_id","unlock_content_success"),a=umgAAL.helpers.validate_string(a,"title","unlock_content_success"),null!==r&&"object"==typeof r||umgAAL.helpers.log("warning","invalid requirements argument supplied to unlock_content_success method. Should be a non-null object"),umgAAL.helpers.is_valid_media_type(e)||umgAAL.helpers.log("warning","invalid media_type argument supplied to unlock_content_success method. Should be a valid media type string"),umgAAL.helpers.validate_standardized_string(umgAAL.user.loginProvider,umgAAL.standardized.SOCIAL_PLATFORMS,"non-standard umgAAL.user.loginProvider set");var n={mediaType:e,mediaID:t,title:a,requirements:r};return umgAAL.helpers.send_event(umgAAL.actions.CONTENT_UNLOCKING.category,umgAAL.actions.CONTENT_UNLOCKING.action,umgAAL.user.loginProvider,n)},outbound_link:function(e){e=umgAAL.helpers.validate_string(e,"dest_url","outbound_link");var t={destURL:e};return umgAAL.helpers.send_event(umgAAL.actions.OUTBOUND_LINK.category,umgAAL.actions.OUTBOUND_LINK.action,e,t)},fanpage_link:function(e,t){e=umgAAL.helpers.validate_string(e,"network","fanpage_link"),t=umgAAL.helpers.validate_string(t,"dest_url","fanpage_link"),umgAAL.helpers.validate_standardized_string(e,umgAAL.standardized.SOCIAL_PLATFORMS,"non-standard social platform set");var a={network:e,destURL:t};return umgAAL.helpers.send_event(umgAAL.actions.FANPAGE_LINK.category,umgAAL.actions.FANPAGE_LINK.action,e+"-"+t,a)},merch_link:function(e,t){e=umgAAL.helpers.validate_string(e,"store","merch_link"),t=umgAAL.helpers.validate_string(t,"dest_url","merch_link");var a={store:e,destURL:t};return umgAAL.helpers.send_event(umgAAL.actions.MERCHSTORE_LINK.category,umgAAL.actions.MERCHSTORE_LINK.action,t,a)},recorded_content_store_link:function(e,t){e=umgAAL.helpers.validate_string(e,"store","recorded_content_store_link"),t=umgAAL.helpers.validate_string(t,"dest_url","recorded_content_store_link");var a={store:e,destURL:t};return umgAAL.helpers.send_event(umgAAL.actions.RECORDED_CONTENTSTORE_LINK.category,umgAAL.actions.RECORDED_CONTENTSTORE_LINK.action,t,a)},tour_store_link:function(e,t,a,r,n){e=umgAAL.helpers.validate_string(e,"platform","tour_store_link"),t=umgAAL.helpers.validate_string(t,"date","tour_store_link"),a=umgAAL.helpers.validate_string(a,"location","tour_store_link"),r=umgAAL.helpers.validate_string(r,"ticket_tier","tour_store_link"),n=umgAAL.helpers.validate_string(n,"dest_url","tour_store_link"),umgAAL.helpers.is_valid_date(t)||umgAAL.helpers.log("warning","incorrect format for date argument supplied to tour_store_link method. Should be YYYY-MM-DD");var i={platform:e,date:t,location:a,ticketTier:r,destURL:n};return umgAAL.helpers.send_event(umgAAL.actions.TOUR_BUY_LINK.category,umgAAL.actions.TOUR_BUY_LINK.action,n,i)},video:function(e,t,a,r){e=umgAAL.helpers.validate_string(e,"platform","video"),a=umgAAL.helpers.validate_string(a,"id","video"),r=umgAAL.helpers.validate_string(r,"title","video"),umgAAL.helpers.is_valid_media_action(t)||umgAAL.helpers.is_percentage(t)||umgAAL.helpers.log("warning","invalid action argument supplied to video method");var n="";if(umgAAL.helpers.is_percentage(t)){var i=parseInt(t),o=[25,50,75,90,100];o.indexOf(i)===-1&&umgAAL.helpers.log("warning","invalid % completed action argument supplied to video method"),n=i+"% completed"}else n=t;var A={platform:e,action:n,id:a,title:r};return label=a+"-"+r,umgAAL.helpers.send_event(umgAAL.standardized.CATEGORIES.VIDEO,n,label,A)},audio:function(e,t,a,r){e=umgAAL.helpers.validate_string(e,"platform","audio"),t=umgAAL.helpers.validate_string(t,"action","audio"),a=umgAAL.helpers.validate_string(a,"id","audio"),r=umgAAL.helpers.validate_string(r,"title","audio"),umgAAL.helpers.is_valid_media_action(t)||umgAAL.helpers.log("warning","invalid action argument supplied to audio method");var n={platform:e,action:t,id:a,title:r};return label=a+"-"+r,umgAAL.helpers.send_event(umgAAL.standardized.CATEGORIES.AUDIO,t,label,n)},photo_gallery_view:function(e,t,a,r){e=umgAAL.helpers.validate_string(e,"id","photo_gallery_view"),t=umgAAL.helpers.validate_string(t,"gallery_name","photo_gallery_view"),a=umgAAL.helpers.validate_string(a,"category","photo_gallery_view"),r=umgAAL.helpers.validate_string(r,"page_number","photo_gallery_view");var n={id:e,galleryName:t,category:a,pageNumber:r};return label=t,r.length>0&&(label=label+"-"+r),umgAAL.helpers.send_event(umgAAL.actions.PHOTO_GALLERY.category,umgAAL.actions.PHOTO_GALLERY.action,label,n)},photo_gallery_load_more:function(e,t,a,r){e=umgAAL.helpers.validate_string(e,"id","photo_gallery_load_more"),t=umgAAL.helpers.validate_string(t,"gallery_name","photo_gallery_load_more"),a=umgAAL.helpers.validate_string(a,"category","photo_gallery_load_more"),r=umgAAL.helpers.validate_string(r,"page_number","photo_gallery_load_more");var n={id:e,galleryName:t,category:a,pageNumber:r};return label=t+"-"+r,umgAAL.helpers.send_event(umgAAL.actions.PHOTO_GALLERY_LOAD_MORE.category,umgAAL.actions.PHOTO_GALLERY_LOAD_MORE.action,label,n)},favorite:function(e,t,a){e=umgAAL.helpers.validate_string(e,"content_type","favorite"),t=umgAAL.helpers.validate_string(t,"id","favorite"),a=umgAAL.helpers.validate_string(a,"title","favorite");var r={contentType:e,id:t,title:a};return umgAAL.helpers.send_event(umgAAL.actions.FAVORITE.category,umgAAL.actions.FAVORITE.action,e,r)},share:function(e,t,a,r){e=umgAAL.helpers.validate_string(e,"platform","share"),t=umgAAL.helpers.validate_string(t,"content_type","share"),a=umgAAL.helpers.validate_string(a,"id","share"),r=umgAAL.helpers.validate_string(r,"title","share"),umgAAL.helpers.validate_standardized_string(e,umgAAL.standardized.SOCIAL_PLATFORMS,"non-standard social platform set");var n={platform:e,contentType:t,id:a,title:r};return ga_action=umgAAL.actions.SHARE.action+"-"+e,umgAAL.helpers.send_event(umgAAL.actions.SHARE.category,ga_action,t,n)},comment:function(e,t,a){e=umgAAL.helpers.validate_string(e,"content_type","comment"),t=umgAAL.helpers.validate_string(t,"id","comment"),a=umgAAL.helpers.validate_string(a,"title","comment");var r={contentType:e,id:t,title:a};return umgAAL.helpers.send_event(umgAAL.actions.COMMENT.category,umgAAL.actions.COMMENT.action,e,r)},flag:function(e,t,a){e=umgAAL.helpers.validate_string(e,"content_type","flag"),t=umgAAL.helpers.validate_string(t,"id","flag"),a=umgAAL.helpers.validate_string(a,"title","flag");var r={contentType:e,id:t,title:a};return umgAAL.helpers.send_event(umgAAL.actions.FLAG.category,umgAAL.actions.FLAG.action,e,r)},ugc_uploads:function(e){e=umgAAL.helpers.validate_string(e,"content_type","ugc_uploads");var t={contentType:e};return umgAAL.helpers.send_event(umgAAL.actions.UGC_UPLOADS.category,umgAAL.actions.UGC_UPLOADS.action,e,t)}};